package rox.arcvol.items;

import net.minecraft.client.Minecraft;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.util.BlockPos;
import net.minecraft.util.EnumChatFormatting;
import net.minecraft.util.EnumFacing;
import net.minecraft.world.World;
import rox.arcvol.Core;
import rox.base.Methods;

public class WeakEnderScroll extends Item{
	public static Item weak_ender_scroll;
	
	public static void scrollInit(){
		weak_ender_scroll = new WeakEnderEssence()
			.setUnlocalizedName("weak_ender_scroll")
			.setMaxStackSize(1)
			.setMaxDamage(15)
			.setCreativeTab(Core.tabArcvol);
		
		Methods.registerItem(weak_ender_scroll);
	}
	
	@Override
	public boolean onItemUse(ItemStack stack, EntityPlayer player, World world, BlockPos pos, EnumFacing side, float hitX, float hitY, float hitZ){
		Minecraft mc = Minecraft.getMinecraft();
		
		if(player.isSneaking()){
			if(stack.getTagCompound() == null){
				stack.setTagCompound(new NBTTagCompound());
				NBTTagCompound nbt = new NBTTagCompound();
				nbt.setInteger("dim", player.dimension);
				nbt.setInteger("posX", pos.getX());
				nbt.setInteger("posY", pos.getY());
				nbt.setInteger("posZ", pos.getZ());
				stack.getTagCompound().setTag("coords", nbt);
				stack.setStackDisplayName(EnumChatFormatting.AQUA + "Weak Ender Scroll");
			}
			if(stack.getTagCompound() != null){
				stack.getTagCompound().removeTag("coords");
				stack.clearCustomName();
			}
		}
		
		return false;
	}
}
